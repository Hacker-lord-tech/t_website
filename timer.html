<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>T Timer</title>
<link rel="icon" type="image/png" href="Capture.PNG">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(180deg, #cce5ff, #e6f0ff);
    color: #003366;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  .timer-container {
    background: white;
    border-radius: 20px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    padding: 40px;
    width: 350px;
    text-align: center;
  }

  h1 {
    color: #0066cc;
    font-size: 1.8em;
    margin-bottom: 10px;
  }

  #mode {
    font-size: 1em;
    color: #004080;
    margin-bottom: 25px;
  }

  #timer {
    font-size: 3em;
    font-weight: bold;
    margin: 25px 0;
    color: #004080;
  }

  input[type="number"] {
    width: 70px;
    padding: 8px;
    font-size: 1em;
    border: 2px solid #007bff;
    border-radius: 8px;
    margin: 5px;
    text-align: center;
  }

  button {
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 1.1em;
    padding: 12px 20px;
    margin: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  button:hover {
    background-color: #0056b3;
    transform: scale(1.05);
  }

  .reset {
    background-color: #ff6666;
  }

  .reset:hover {
    background-color: #cc0000;
  }

  .mode-switch {
    background-color: #00cc99;
  }

  .mode-switch:hover {
    background-color: #009977;
  }

  .back {
    display: inline-block;
    margin-top: 25px;
    background-color: #0056b3;
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    transition: 0.3s;
  }

  .back:hover {
    background-color: #003d80;
  }

  .countdown-inputs {
    display: none;
    margin-bottom: 10px;
  }
</style>
</head>
<body>

<div class="timer-container">
  <h1>⏱️ T Timer</h1>
  <p id="mode">Mode: Stopwatch</p>

  <div class="countdown-inputs" id="countdownInputs">
    <input type="number" id="hoursInput" placeholder="HH" min="0">
    <input type="number" id="minutesInput" placeholder="MM" min="0" max="59">
    <input type="number" id="secondsInput" placeholder="SS" min="0" max="59">
  </div>

  <div id="timer">00:00:00</div>

  <div class="controls">
    <button onclick="startTimer()">Start</button>
    <button onclick="pauseTimer()">Pause</button>
    <button class="reset" onclick="resetTimer()">Reset</button>
    <button class="mode-switch" onclick="switchMode()">Switch Mode</button>
  </div>

  <a href="index.html" class="back">⬅ Back to Home</a>
</div>

<script>
  let timer;
  let seconds = 0;
  let running = false;
  let mode = 'stopwatch'; // can be 'stopwatch' or 'countdown'

  const timerDisplay = document.getElementById('timer');
  const modeText = document.getElementById('mode');
  const countdownInputs = document.getElementById('countdownInputs');

  function updateDisplay() {
    const hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
    const mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
    const secs = String(seconds % 60).padStart(2, '0');
    timerDisplay.textContent = `${hrs}:${mins}:${secs}`;
  }

  function startTimer() {
    if (running) return;
    running = true;

    if (mode === 'countdown' && seconds === 0) {
      const h = parseInt(document.getElementById('hoursInput').value) || 0;
      const m = parseInt(document.getElementById('minutesInput').value) || 0;
      const s = parseInt(document.getElementById('secondsInput').value) || 0;
      seconds = h * 3600 + m * 60 + s;
      if (seconds <= 0) {
        alert("Please set a valid countdown time!");
        running = false;
        return;
      }
      updateDisplay();
    }

    timer = setInterval(() => {
      if (mode === 'stopwatch') {
        seconds++;
        updateDisplay();
      } else {
        if (seconds > 0) {
          seconds--;
          updateDisplay();
        } else {
          clearInterval(timer);
          running = false;
          alert("⏰ Time's up!");
        }
      }
    }, 1000);
  }

  function pauseTimer() {
    running = false;
    clearInterval(timer);
  }

  function resetTimer() {
    running = false;
    clearInterval(timer);
    seconds = 0;
    updateDisplay();
  }

  function switchMode() {
    resetTimer();
    if (mode === 'stopwatch') {
      mode = 'countdown';
      modeText.textContent = "Mode: Countdown";
      countdownInputs.style.display = "block";
    } else {
      mode = 'stopwatch';
      modeText.textContent = "Mode: Stopwatch";
      countdownInputs.style.display = "none";
    }
  }

  updateDisplay();
</script>

</body>
</html>
